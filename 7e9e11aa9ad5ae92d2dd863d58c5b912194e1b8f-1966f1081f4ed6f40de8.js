"use strict";(self.webpackChunkcitation_generator=self.webpackChunkcitation_generator||[]).push([[209],{16718:function(e,t,a){var n=a(24994);t.A=void 0;var r=n(a(42032)),l=a(74848);t.A=(0,r.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},70177:function(e,t,a){var n=a(24994);t.A=void 0;var r=n(a(42032)),l=a(74848);t.A=(0,r.default)((0,l.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},27738:function(e,t,a){var n=a(24994);t.A=void 0;var r=n(a(42032)),l=a(74848);t.A=(0,r.default)((0,l.jsx)("path",{d:"M11 18h2v-2h-2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4"}),"HelpOutline")},87992:function(e,t,a){a.d(t,{A:function(){return f}});var n=a(98587),r=a(58168),l=a(96540),o=a(34164),i=a(64111),c=a(332),s=a(28466),u=a(3541),m=a(27553),d=a(17245);function p(e){return(0,d.Ay)("MuiFab",e)}var A=(0,m.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),b=a(11848),v=a(74848);const x=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],h=(0,b.Ay)(c.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,b.ep)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,s.A)(a.size)}`],"inherit"===a.color&&t.colorInherit,t[(0,s.A)(a.size)],t[a.color]]}})((({theme:e,ownerState:t})=>{var a,n;return(0,r.A)({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:null==(a=(n=e.palette).getContrastText)?void 0:a.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${A.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},"small"===t.size&&{width:40,height:40},"medium"===t.size&&{width:48,height:48},"extended"===t.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===t.variant&&"small"===t.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===t.variant&&"medium"===t.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===t.color&&{color:"inherit"})}),(({theme:e,ownerState:t})=>(0,r.A)({},"inherit"!==t.color&&"default"!==t.color&&null!=(e.vars||e).palette[t.color]&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}})),(({theme:e})=>({[`&.${A.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})));var f=l.forwardRef((function(e,t){const a=(0,u.A)({props:e,name:"MuiFab"}),{children:l,className:c,color:m="default",component:d="button",disabled:A=!1,disableFocusRipple:b=!1,focusVisibleClassName:f,size:g="large",variant:E="circular"}=a,y=(0,n.A)(a,x),C=(0,r.A)({},a,{color:m,component:d,disabled:A,disableFocusRipple:b,size:g,variant:E}),k=(e=>{const{color:t,variant:a,classes:n,size:l}=e,o={root:["root",a,`size${(0,s.A)(l)}`,"inherit"===t?"colorInherit":t]},c=(0,i.A)(o,p,n);return(0,r.A)({},n,c)})(C);return(0,v.jsx)(h,(0,r.A)({className:(0,o.A)(k.root,c),component:d,disabled:A,focusRipple:!b,focusVisibleClassName:(0,o.A)(k.focusVisible,f),ownerState:C,ref:t},y,{classes:k,children:l}))}))},70108:function(e,t,a){a.d(t,{lV:function(){return pe},Ay:function(){return Ae}});var n=a(96540),r=a(8239),l=a(14073),o=a(50779),i=a(97834),c=a(75276),s=a(56655),u=a(87992),m=a(11848),d=a(39458),p=a(11641),A=a(73652),b=a(96897),v=a(62733),x=a(44739);var h=(e,t,n,r,l)=>{switch(l){case"text":return(0,b.nG)(e,t,"text",n,r);case"bibtex":return a(4728),x.plugins.output.format("bibtex",[],{format:"text"}),{convertedCitation:(0,b.mS)(e,t,"bibtex",n,r)};case"ris":return a(88911),{convertedCitation:(0,b.mS)(e,t,"ris",n,r)};case"bibitem":return{convertedCitation:(0,v.A)([e])};default:return{convertedCitation:""}}},f=a(56808);a(61011);a(22824);var g,E,y=a(54011),C=a(85993);const k=()=>{const{citation:e,documentType:t,reset:a}=(0,n.useContext)(f.H),{citationDao:r}=(0,n.useContext)(A.s),l=(0,n.useCallback)((()=>{r.add({...e,id:(0,y.A)(),type:t,updatedTimestamp:Date.now()});const n=(0,C.r)(e,t);a(n)}),[e]);return n.createElement(s.A,{title:"save citation to the Reference Manager"},n.createElement(u.A,{sx:{marginBottom:"6px"},color:"primary","aria-label":"cite",size:"medium",onClick:l},"Save"))},w=()=>{const{documentType:e,reset:t,citation:a,setCitation:r}=(0,n.useContext)(f.H),l=(0,n.useCallback)((()=>{r({},e);const n=(0,C.r)(a,e);t(n)}),[e,a]);return n.createElement(s.A,{title:"clear all fields"},n.createElement(u.A,{color:"primary","aria-label":"clear",size:"medium",onClick:l},"Clear"))};(0,m.Ay)(d.A)((e=>{let{theme:t}=e;return{"& .MuiBadge-badge":{right:-3,top:25,border:"2px solid "+t.palette.background.paper,padding:"0 4px"}}})),(0,m.Ay)(p.A)(g||(g=(0,c.A)(["\n  :hover {\n    border: #d32f2f 1px solid;\n  }\n"]))),(0,m.Ay)(u.A)(E||(E=(0,c.A)(["\n  position: fixed;\n  top: 90%;\n  right: 0;\n"])));var z,S=a(54506),I=a(27217),H=a(30995),T=a(29571),M=a(2071),R=a(73896),N=a(42471),W=a(61224),D=a(69307),F=a(67034),V=a(71479),j=a(16718);const _=e=>({family:e.family,given:e.given,suffix:e.suffix}),O=(0,V.A)(D.A)(z||(z=(0,c.A)(["\n  font-family: Noto Sans, sans-serif;\n  color: #161719;\n  font-size: 1em;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 22px;\n  display: flex;\n  align-items: center;\n  padding: 0;\n"])));var L=()=>{const{documentType:e,citation:t,setValue:a}=(0,n.useContext)(f.H),r=(0,n.useMemo)((()=>{const n=I.pX[e][0],r=[];return I.pX[e].map((e=>{t&&t[e]&&r.push.apply(r,(0,S.A)(t[e].map((t=>({...t,role:e,id:(0,y.A)()})))))})),r.length?r:(a(n,[{}]),[{role:n,id:(0,y.A)()}])}),[e,t]),l=(0,n.useCallback)((()=>{const n=I.pX[e][0],r=t&&[].concat((0,S.A)(t[n]),[{}])||[{}];a(n,(0,S.A)(r))}),[e,t]),c=(0,n.useCallback)((e=>{const[t,n]=e.target.name.split("_"),l=e.target.id,o=e.target.value,i=r.filter((e=>e.role===n)).map((e=>e.id===t?{..._(e),[l]:o}:_(e)));a(n,i)}),[t,r]),s=(0,n.useCallback)((e=>{const[t,n]=e.currentTarget.name.split("_"),l=r.filter((e=>{if(e.role===n&&e.id!==t)return _(e)}));a(n,l)}),[r]),u=(0,n.useCallback)((e=>{const[t,n]=e.target.name.split("_"),l=e.target.value;let o;const i=r.filter((e=>{if(e.id===t&&(o=e),e.role===n&&e.id!==t)return _(e)})),c=r.filter((e=>e.role===l&&_(e)));a(n,i),a(l,[].concat((0,S.A)(c),[o]))}),[r]);return n.createElement(i.A,{disableGutters:!0},n.createElement(H.A,{direction:"row",id:"author-container"},n.createElement(O,{id:"authors"},"Contributor(s)")),n.createElement(H.A,{pt:2,pb:1,spacing:2},r.map(((t,a)=>n.createElement(H.A,{id:t.id,key:a.toString(),spacing:{xs:1,md:2},direction:{xs:"column",md:"row"}},n.createElement(o.A,{color:"secondary",size:"small",sx:{ml:0,minWidth:140}},n.createElement(T.A,{sx:{fontSize:"small"}},"Contributor Role"),n.createElement(M.A,{label:"more source type",name:t.id+"_"+t.role,value:t.role,onChange:u},I.pX[e].map((e=>n.createElement(R.A,{key:e,value:e},I.VV[e]))))),n.createElement(N.A,{size:"small",name:t.id+"_"+t.role,id:"given",label:"First Name",focused:!1,value:t.given||"",inputProps:{className:"given"},onChange:c}),n.createElement(N.A,{size:"small",name:t.id+"_"+t.role,id:"family",label:"Last Name",focused:!1,value:t.family||"",inputProps:{className:"family"},onChange:c}),n.createElement(N.A,{size:"small",name:t.id+"_"+t.role,id:"suffix",label:"Suffix",focused:!1,value:t.suffix||"",inputProps:{className:"suffix"},onChange:c}),n.createElement(H.A,{justifyContent:"center"},n.createElement(p.A,{size:"small",title:"delete contributor",name:t.id+"_"+t.role,onClick:s,"aria-label":"delete"},n.createElement(F.A,null))))))),n.createElement(i.A,{disableGutters:!0},n.createElement(W.A,{color:"success",size:"small","aria-label":"add",startIcon:n.createElement(j.A,null),onClick:l},"Add Contributor")))},B=a(77623),G=a(58331);const P=(0,V.A)((e=>{let{className:t,...a}=e;return n.createElement(s.A,Object.assign({},a,{classes:{popper:t}}),a.children)}))((()=>({["& ."+G.A.tooltip]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:12,border:"1px solid #dadde9"}})));var X=a(27738),$=a(84215);const U=(0,m.Ay)($.Ay)((e=>{let{theme:t}=e;return{"label + &":{marginTop:t.spacing(1)},"& .MuiInputBase-input":{borderRadius:4,position:"relative",border:"1px solid #646b81",fontSize:16,padding:"4px 12px",transition:"unset","&:focus":{border:"2px solid #161719"}}}})),q=(0,m.Ay)(D.A)((()=>({fontFamily:"Noto Sans, sans-serif",color:"#161719",fontSize:"1em",fontStyle:"normal",fontWeight:600,lineHeight:"22px"})));var Y=e=>{let{id:t,required:a,multiline:r}=e;const{setValue:l,citation:i}=(0,n.useContext)(f.H),c=(0,n.useCallback)((e=>{const{id:t,value:a}=e.target;l(t,a)}),[]),s=i[t]||"";return n.createElement(o.A,{fullWidth:!0,variant:"standard"},n.createElement(q,{focused:!1},I.WD[t],n.createElement(P,{title:I.eH[t]},n.createElement(X.A,{fontSize:"16",sx:{margin:"-4px 4px"}}))),n.createElement(U,{onChange:c,value:s,required:a,multiline:"note"===t,minRows:3,fullWidth:!0,id:t}))};var J=e=>{var t;let{id:a}=e;const{documentType:r,setValue:l,citation:c}=(0,n.useContext)(f.H),s=c&&(null===(t=c[a])||void 0===t?void 0:t["date-parts"])||["0","0","0"],[u,m,d]=s,p=(0,n.useCallback)((async e=>{switch(e.target.id){case a+"-day":s[2]=e.target.value;break;case a+"-month":s[1]=e.target.value;break;case a+"-year":s[0]=e.target.value}l(a,{"date-parts":s})}),[a,l,s]);return n.createElement(i.A,{disableGutters:!0,sx:{pt:"4px",display:"flex",flexDirection:"column"}},n.createElement(q,{focused:!1},I.WD[a],n.createElement(P,{title:I.eH.issued},n.createElement(X.A,{fontSize:"16",sx:{margin:"-4px 4px"}}))),n.createElement(H.A,{direction:"row",spacing:1},"website"===r&&n.createElement(n.Fragment,null,n.createElement(o.A,{variant:"standard"},n.createElement(T.A,{focused:!1,shrink:!0},"Day"),n.createElement(B.A,{value:"0"===d?"":d,onChange:p,type:"number",id:a+"-day"})),n.createElement(o.A,{variant:"standard"},n.createElement(T.A,{focused:!1,shrink:!0},"Month"),n.createElement(B.A,{value:"0"===m?"":m,onChange:p,type:"number",id:a+"-month"}))),n.createElement(o.A,{variant:"standard"},n.createElement(T.A,{focused:!1,shrink:!0},"Year"),n.createElement(B.A,{value:"0"===u?"":u,onChange:p,type:"number",id:a+"-year"}))))},K=a(92236),Q=a(54790);var Z=()=>{const{citation:e,setValue:t}=(0,n.useContext)(f.H),{0:a,1:r}=(0,n.useState)("DOI"),l=(0,n.useCallback)(((e,t)=>r(t)),[]),i=(0,n.useCallback)((e=>{t(a,e.target.value)}),[a]),c=e[a]||"";return n.createElement(H.A,{py:1},n.createElement(q,{focused:!1},"Link"),n.createElement(H.A,{direction:{xs:"column",md:"row"}},n.createElement(K.A,{size:"small",exclusive:!0,value:a,onChange:l},n.createElement(Q.A,{value:"DOI"},"DOI"),n.createElement(Q.A,{value:"URL"},"URL")),n.createElement(o.A,{size:"small",variant:"standard",sx:{margin:"0 12px",flex:1}},n.createElement(T.A,{focused:!1,shrink:!0},a),n.createElement(B.A,{id:"link",fullWidth:!0,onChange:i,value:c}))))},ee=a(17398),te=a(833),ae=a(99844),ne=a(71358),re=a(40757);var le=()=>{const{copyOption:e,setCopyOption:t,citation:a,documentType:o}=(0,n.useContext)(f.H),i=(0,n.useCallback)((()=>{(0,C.t)(a,o)||(0,ne.E)([{...a,type:o}])}),[a,o]),c=(0,n.useCallback)(((e,a)=>{a&&t(a)}),[]);return n.createElement(r.Ay,{item:!0,xs:11,lg:12,p:{xs:1,md:2},container:!0,flexWrap:"wrap",justifyContent:{xs:"center",md:"space-between"},bgcolor:"#F4F3F5"},n.createElement(H.A,null,n.createElement(ae.A,null),n.createElement(l.A,{variant:"caption",align:"center",p:1},"Document Type")),n.createElement(H.A,{alignItems:"center"},n.createElement(te.A,{sx:{flexWrap:"wrap"},size:"small"},n.createElement(W.A,{startIcon:n.createElement(re.S,null),size:"small",variant:"text",color:"secondary",onClick:i},"export to word .xml")),n.createElement(l.A,{variant:"caption",align:"center",p:1},"Import your citation to Microsoft Word")),n.createElement(H.A,null,n.createElement(K.A,{sx:{flexWrap:"wrap",justifyContent:"center"},value:e,onChange:c,size:"small",exclusive:!0},n.createElement(Q.A,{value:"text"},"Plain-text"),n.createElement(Q.A,{value:"bibitem"},"LaTex-bibitem"),n.createElement(Q.A,{value:"bibtex"},"Bibtex"),n.createElement(Q.A,{value:"ris"},"Ris")),n.createElement(l.A,{variant:"caption",align:"center",p:1},"Copy Option")))},oe=a(60538),ie=a(69067),ce=a(33066),se=a(36632),ue=a(70177);var me=()=>{const{showAlert:e,handleClick:t,handleClose:a}=(()=>{const[e,t]=n.useState(!1),{documentType:a,citation:r,style:l,xml:o,copyOption:i}=(0,n.useContext)(f.H);return{handleClick:(0,n.useCallback)((e=>{if(!r)return;const n=e.currentTarget.value;let c="";const{convertedCitation:s,inText:u}=h(r,a,l,o,i);"citation"===n&&(c=s),"in-text"===n&&(c=u||""),(async()=>{await navigator.clipboard.writeText(c)})(),t(!0)}),[r,l,a]),handleClose:(0,n.useCallback)(((e,a)=>{"clickaway"!==a&&t(!1)}),[]),showAlert:e}})(),{citation:r,style:o,xml:i,documentType:c,copyOption:s}=(0,n.useContext)(f.H),{convertedCitation:u,inText:m}=(0,n.useMemo)((()=>(0,b.nG)(r,c,"html",o,i)),[r,c,o]);return(0,n.useMemo)((()=>(0,C.t)(r,c)),[r])?n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,n.createElement(oe.A,{elevation:4,sx:{my:1}},n.createElement(ie.A,{sx:{display:"flex",padding:"8px",alignItems:"center"}},n.createElement(p.A,{onClick:t,value:"citation",sx:{flexDirection:"column"}},n.createElement(ue.A,null),n.createElement(l.A,{variant:"caption"},"Copy")),n.createElement("div",{className:"output-viewer",dangerouslySetInnerHTML:{__html:u}})),"text"===s&&n.createElement(ie.A,{sx:{display:"flex",padding:"8px",alignItems:"center"}},n.createElement(p.A,{onClick:t,value:"in-text",sx:{flexDirection:"column"}},n.createElement(ue.A,null),n.createElement(l.A,{variant:"caption"},"Copy")),n.createElement(ie.A,null,n.createElement(l.A,{variant:"caption",color:"text.secondary",padding:0},"In text citation:"),n.createElement("div",{className:"output-viewer",dangerouslySetInnerHTML:{__html:m}})))),n.createElement(ce.A,{open:e,autoHideDuration:2e3,onClose:a},n.createElement(se.A,{onClose:a,severity:"success",sx:{width:"100%"}},"Citation Copied to clipboard")))};const de={"article-journal":["abstract","shortTitle","journalAbbreviation","language","ISSN","accessed","source","call-number","note"],book:["abstract","collection-title","collection-number","number-of-volumes","publisher-place","number-of-pages","language","ISBN","source","accessed","call-number","note"],webpage:["abstract","publisher-place","language","source","accessed","call-number","note"],report:["abstract","language","note","source","accessed","call-number"]},pe=()=>{const{documentType:e,note:t}=(0,n.useContext)(f.H),a=(0,n.useMemo)((()=>"article-journal"===e||"book"===e||"webpage"===e||"report"===e?I.pE[e].filter((a=>{if(t&&"note"===a)return a;if(!de[e].includes(a)){if("DOI"===a&&"article-journal"===e)return a;if("URL"!==a||"article-journal"!==e)return a}})):I.pE[e]),[e,t]);return n.createElement(r.Ay,{container:!0,justifyContent:"center",item:!0},n.createElement(r.Ay,{item:!0,xs:8,md:10,container:!0},n.createElement(o.A,{fullWidth:!0,component:"form"},a.map(((e,t)=>n.createElement(r.Ay,{item:!0,xs:12,py:1,key:t.toString()},{issued:n.createElement(J,{id:e}),accessed:n.createElement(J,{id:e}),DOI:n.createElement(Z,null),contributors:n.createElement(L,null)}[e]||n.createElement(Y,{id:e})))))),n.createElement(r.Ay,{item:!0,container:!0,direction:"column",alignItems:"center",xs:2,md:2},n.createElement(i.A,{disableGutters:!0,sx:{display:"flex",alignItems:"end",flexDirection:"column",top:0,bottom:0,position:"sticky",pl:"6px",pt:"32px"}},n.createElement(k,null),n.createElement(w,null))))};var Ae=()=>{const{documentType:e,style:t,note:a,xml:o,reset:i}=(0,n.useContext)(f.H),c=(0,n.useCallback)((e=>i(e)),[]);return n.createElement(r.Ay,{container:!0,direction:"column",justifyContent:"center",id:"form-container"},n.createElement(le,null),n.createElement(me,null),n.createElement(l.A,{py:1,textAlign:{xs:"center",md:"start"},variant:"subtitle2",fontWeight:"500"},"Fill entry to generate citation manually on the fly or Import citation from an external source"),n.createElement(ee.g,{documentType:e,style:a?"annotation/"+t:t,xml:o,updateCitation:c}),n.createElement(pe,null))}}}]);
//# sourceMappingURL=7e9e11aa9ad5ae92d2dd863d58c5b912194e1b8f-1966f1081f4ed6f40de8.js.map